## フロントエンド単体テスト

使用技術

- テストランナー：vitest
- テスティングライブラリ：react-testing-library

単体テストの種類

- ロジック/関数のテスト
- 状態(state)のテスト
- 描画(rendering)のテスト
- イベントのテスト
- props のテスト
- コンテキストのテスト
- 非同期処理のテスト
- 副作用(useEffect)のテスト
- 特殊ケースのテスト（エッジケース・エラーバウンダリ・a11y）

環境

- vite, vitest
- テスティングライブラリ：react-testing-library

テストを走らせるところまでやる

自動テストは目的ではないから、ci は構築しない。
あくまで単体テストの手法を深めることが目的。
だから、ブランチも main のみでいく。

不明点

- vite 環境の場合、vitest は npx install vitest するだけでいいのか？
- config ファイルとかはいじらなくていいの？

## React ユニットテスト学習用課題リスト

### ロジック/関数のテスト

- [x] sum(a, b) 関数を作り、入力に応じて正しい結果を返すテストを書く

- [x] isEven(n) 関数を作り、偶数/奇数の判定をテストする

- [x] formatDate(date) 関数を作り、日付文字列を YYYY/MM/DD に変換するテスト

### 状態 (state) のテスト

- [x] Counter コンポーネントを作り、初期値 0 で表示されることをテスト

- [x] ボタンをクリックして count が 1 ずつ増えることをテスト

- [x] 複数回クリックした場合の挙動をテスト

- [x] useReducer を使って INCREMENT / DECREMENT の動作をテスト

### 描画 (rendering) のテスト

- [x] Hello コンポーネントに name props を渡して "Hello, {name}" が表示されることをテスト

- [x] UserList コンポーネントで users.length=3 のとき <li> が 3 つ表示されることをテスト

- [] 条件分岐（例: loading=true → "Loading…" 表示、false → データ表示）をテスト

### イベントのテスト

- [] ボタンクリックでコールバック関数が呼ばれることをテスト

- [] テキスト入力フォームで文字を入力すると state が更新されることをテスト

- [] Enter キーを押すと送信関数が呼ばれることをテスト

チェックボックスを切り替えたときに状態が正しく変わるかテスト

### props のテスト

- [] Greeting コンポーネントに message="Hi" を渡すと "Hi" が表示されることをテスト

- [] props を省略した場合、デフォルト値が表示されることをテスト

### コンテキストのテスト

ThemeContext を作り、"dark" のとき背景が黒になることをテスト

Provider を使わなかった場合、デフォルトテーマ "light" になることをテスト

### 非同期処理のテスト

- [] API モックを作り、データ取得後にリストが描画されることをテスト

- [] API が失敗した場合、エラーメッセージが表示されることをテスト

- [] データ取得中に "Loading…" が表示されることをテスト

### 副作用 (useEffect) のテスト

- [] 初回レンダリング時に fetchData が呼ばれることをテスト

- [] アンマウント時に setInterval が解除されることをテスト

### 特殊ケースのテスト

- [] UserList に空配列を渡した場合 "No users found" が表示されることをテスト

- [] null や undefined の props を渡したときに安全に動作することをテスト

- [] エラーバウンダリで子コンポーネントがエラーを投げた場合、フォールバック UI が表示されることをテスト

- [] ボタンに role="button" が存在することをテスト（アクセシビリティ確認）

### ✅ 学習ロードマップ（おすすめ順）

- ロジック → 状態 → 描画 → イベント（基礎）

- props → コンテキスト → 非同期処理（実務でよく出る）

- 副作用 → 特殊ケース（応用・品質向上）
